require('dotenv').config();
const express = require('express');
const { Client, GatewayIntentBits } = require('discord.js');

const app = express();
app.get('/', (req, res) => res.send('OK'));
app.listen(3000, () => console.log('Web server ok'));

const client = new Client({ intents: [GatewayIntentBits.Guilds] });

client.on('ready', () => {
  console.log(`Logado como ${client.user.tag}`);
});

client.login(process.env.TOKEN).catch(err => {
  console.error('Erro ao logar no Discord:', err);
});